// Calendar script

const messages = [
	// 17.12
	["–ß—Ç–æ–±—ã —Å–∞–º–æ–º—É –±—ã—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤—ã–º, –∏–Ω–æ–≥–¥–∞ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–µ–ª–∞—Ç—å —á—É—Ç–æ—á–∫—É —Å—á–∞—Å—Ç–ª–∏–≤–µ–µ –¥—Ä—É–≥–∏—Öüòä –°–µ–≥–æ–¥–Ω—è –ø—Ä–µ–¥–ª–∞–≥–∞—é –ø–æ—É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–π –ø—Ç–∏—á—å–µ–π –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ü§ó"],
	// 18.12
	["–°–¥–µ–ª–∞–π—Ç–µ –ª—é–±–æ–µ —Ñ–æ—Ç–æ –ø—Ç–∏—Ü—ã, –Ω–µ –≤–∞–∂–Ω–æ –∫–∞–∫–æ–µ –æ–Ω–æ –±—É–¥–µ—Ç - –≤–∞–∂–Ω–æ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —ç—Ç–∞ –ø—Ç–∏—Ü–∞ –ø–æ–ø–∞–ª–∞ –∫ –≤–∞–º –≤ –∫–∞–¥—Ä!ü•∞ –ú–æ–∂–µ—Ç, –≤—ã —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–µ—Ç–µ –ø—Ä–æ–ª–µ—Ç–∞—é—â—É—é –º–∏–º–æ –æ–∫–Ω–∞ —Å—Ç–∞–π–∫—É –¥—Ä–æ–∑–¥–æ–≤, –∏–ª–∏ –¥–µ–ª–æ–≤–∏—Ç–æ –∫–æ–ø–æ—à–∞—â—É—é—Å—è –≤ —Ç—Ä–∞–≤–µ —Å–µ—Ä—É—é –≤–æ—Ä–æ–Ω—É?üòè <br><br> <p class='popup_subtext'> –ü–æ –∂–µ–ª–∞–Ω–∏—é –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ—ë —Ñ–æ—Ç–æ –≤ —á–∞—Ç–∏–∫–µ –¶—ñ—û-–¶—ñ—û —Å —Ö–µ—à—Ç–µ–≥–æ–º #–ø—Ç–∏—á–∏–π–∞–¥–≤–µ–Ω—Çüòá</p>"],
	// 19.12
	["–ü–æ–Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –ø—Ç–∏—Ü–∞–º–∏ –≤ —Å–≤–æ–µ–º –¥–≤–æ—Ä–µ –∏–ª–∏ –ø–∞—Ä–∫–µüå≥ –ö–∞–∫–∏–µ –≤–∏–¥—ã –ø—Ç–∏—Ü –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Ö–æ–ª–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è –≥–æ–¥–∞? –ê –∫–∞–∫–∏–µ –≤ —ç—Ç–æ –≤—Ä–µ–º—è, –Ω–∞–æ–±–æ—Ä–æ—Ç, –ø–æ—è–≤–ª—è—é—Ç—Å—è?ü§î"],
	// 20.12
	["–•—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –ø—Ä–æ –ø—Ç–∏—Ü (–∏–ª–∏ —Ç–∞–∫ –∏–ª–∏ –∏–Ω–∞—á–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ø—Ç–∏—Ü–∞–º–∏) –Ω–µ –æ—á–µ–Ω—å –º–Ω–æ–≥–æ, –Ω–æ –≤—Å–µ –∂–µ, –æ–Ω–∏ –µ—Å—Ç—åüí´ –í–æ—Ç –Ω–µ–±–æ–ª—å—à–æ–π —Å–ø–∏—Å–æ–∫ —Ñ–∏–ª—å–º–æ–≤, –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –≤–µ—á–µ—Ä:<br><br><div class='popup_list'><div>üé¨–ú–æ–π –ø–∏–Ω–≥–≤–∏–Ω (2024)</div><div>üé¨–ë–æ–ª—å—à–æ–π –≥–æ–¥ (2011)</div><div>üé¨–ú–æ–π –¥—Ä—É–≥ –º–∏—Å—Ç–µ—Ä –ü–µ—Ä—Å–∏–≤–∞–ª—å (2019)</div><div>üé¨–†–∞—Å–ø—Ä–∞–≤—å –∫—Ä—ã–ª—å—è (2019)</div><div>üé¨–ë—Ä–∞—Ç—å—è –≤–µ—Ç—Ä–∞ (2015)</div><div>üé¨–ò—Å—Ç–æ—Ä–∏—è —Å–µ–º—å–∏ –ë–ª—É–º (2020)</div><div>üé¨–ì–æ—Ä–æ–¥ –≥–ª–∞–∑–∞–º–∏ –∫–æ—Ç–∞ (2018)</div><div>üé¨–ú–∞–ª—å—á–∏–∫ –∏ –ø—Ç–∏—Ü–∞ (2024)</div><div>üé¨–î–∏–∫–∏–π —Ä–æ–±–æ—Ç (2024)</div></div>"],
	// 21.12
	["–ö–∞–∫–∞—è –≤–∞—à–∞ –ª—é–±–∏–º–∞—è –∑–∏–º–Ω—è—è –ø—Ç–∏—Ü–∞? –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø—Ä–æ –Ω–µ–µ –∏—Å—Ç–æ—Ä–∏—éüòä <br><br> <p class='popup_subtext'> –ü–æ –∂–µ–ª–∞–Ω–∏—é –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é –≤ —á–∞—Ç–∏–∫–µ –¶—ñ—û-–¶—ñ—û —Å —Ö–µ—à—Ç–µ–≥–æ–º #–ø—Ç–∏—á–∏–π–∞–¥–≤–µ–Ω—Çüòá</p>"],
	// 22.12
	["–°–∞–º–æ–µ –≤—Ä–µ–º—è —Å—Ö–æ–¥–∏—Ç—å –≤ –ø—Ä–æ–≥—É–ª—è—Ç—å—Å—è –≤ –ø–∞—Ä–∫ –∏ –ø–æ–∫–æ—Ä–º–∏—Ç—å –ø—Ç–∏—á–µ–∫üëêü¶Ü"],
	// 23.12
	["üåü–ü–æ—Ä–∞–¥—É–π—Ç–µ —Å–µ–±—è –ø–µ—Ä–µ–¥ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞–º–∏ - –∫—É–ø–∏—Ç–µ —Å–µ–±–µ –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å –≤–µ—â—å —Å –ø—Ç–∏—á–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–Ω–∏–≥—É –æ –ø—Ç–∏—Ü–∞—Ö, –ø–æ—Å—É–¥—É, –æ–¥–µ–∂–¥—É, —ë–ª–æ—á–Ω—É—é –∏–≥—Ä—É—à–∫—É –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –º–∏–ª—É—é –º–∞–ª–µ–Ω—å–∫—É—é –º–µ–ª–æ—á—å)üåü"],
	// 24.12
	["–ò–Ω–æ–≥–¥–∞ –Ω–∞–º —Å–Ω—è—Ç—Å—è –ø—Ç–∏—á—å–∏ —Å–Ω—ã, –∏–ª–∏ –º—ã –ø—Ä–æ—Å—Ç–æ —Ñ–∞–Ω—Ç–∞–∑–∏—Ä—É–µ–º –æ –ø—Ç–∏—Ü–∞—Öüò¥ –£—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω–∫—É—Ä—Å –Ω–∞ –ª—É—á—à–µ–µ –ø—Ç–∏—á—å–µ –∏–º—è –¥–ª—è –≤—ã–º—ã—à–ª–µ–Ω–Ω–æ–π –ø—Ç–∏—Ü—ã, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø—Ä–∏–¥—É–º–∞–µ—Ç–µü§ó"],
	// 25.12
	["–í—Å–ø–æ–º–Ω–∏—Ç–µ —Å–≤–æ–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏ —Å –ø—Ç–∏—Ü–∞–º–∏ –≤ —ç—Ç–æ–º –≥–æ–¥—É, –∫–∞–∫–∏–µ –≤–∞–º –∑–∞–ø–æ–º–Ω–∏–ª–∏—Å—å –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ?ü¶© <br><br> <p class='popup_subtext'> –ü–æ –∂–µ–ª–∞–Ω–∏—é –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ–∏ –∏—Å—Ç–æ—Ä–∏–∏ –≤ —á–∞—Ç–∏–∫–µ –¶—ñ—û-–¶—ñ—û —Å —Ö–µ—à—Ç–µ–≥–æ–º #–ø—Ç–∏—á–∏–π–∞–¥–≤–µ–Ω—Çüòá</p>"],
	// 26.12
	["–£–∑–Ω–∞–π—Ç–µ —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ –∏–∑ –º–∏—Ä–∞ –Ω–∞—É—á–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏–π –ø—Ç–∏—Ü - –≤–æ–∑–º–æ–∂–Ω–æ, —É –≤–∞—Å –µ—Å—Ç—å —Å–≤–æ–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –æ—Ä–Ω–∏—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–º–∏ –≤—ã –ø–æ–ª—å–∑—É–µ—Ç–µ—Å—å?üòé –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –Ω–µ—Ç—É, –ø–æ–∑–≤–æ–ª—å—Ç–µ –¥–∞—Ç—å –≤–∞–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –Ω–∞ –≤—ã–±–æ—Äüòä<br><br><div class='popup_list'><a href='https://birdwatch.by/' target='_blank'>‚úîÔ∏èbirdwatch.by</a><br><a href='https://naked-science.ru/tags/ornitologiya' target='_blank'>‚úîÔ∏ènaked-science.ru</a><br><a href='https://t.me/idemlesom' target='_blank'>‚úîÔ∏è–¢–ì –ø–∞–±–ª–∏–∫ '–ò–¥—ë–º –ª–µ—Å–æ–º'</a><br><a href='https://academy.allaboutbirds.org/articles/' target='_blank'>‚úîÔ∏èacademy.allaboutbirds.org</a><br><a href='https://habr.com/ru/search/?target_type=posts&order=relevance&q=[%D0%BF%D1%82%D0%B8%D1%86%D1%8B]' target='_blank'>‚úîÔ∏è–°—Ç–∞—Ç—å–∏ –Ω–∞ –•–∞–±—Ä–µ –æ –ø—Ç–∏—Ü–∞—Ö</a><br><a href='https://t.me/ornis_updates' target='_blank'>‚úîÔ∏è–¢–ì –ø–∞–±–ª–∏–∫ '–†—É—Å—Å–∫–∏–π –æ—Ä–Ω–∏—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∂—É—Ä–Ω–∞–ª'</a><br><a href='https://t.me/scienceandlife' target='_blank'>‚úîÔ∏è–¢–ì –ø–∞–±–ª–∏–∫ '–ù–∞—É–∫–∞ –∏ –∂–∏–∑–Ω—å'(–ø–æ–∏—Å–∫ –ø–æ —Å–ª–æ–≤—É –ü—Ç–∏—Ü–∞)</a></div>"],
	// 27.12
	["–°–Ω–∏–º–∏—Ç–µ –ª—é–±—É—é –ø—Ç–∏—Ü—É –Ω–∞ –≤–∏–¥–µ–æ, –≤—Å—Ç—Ä–µ—á–µ–Ω–Ω—É—é —Å–µ–≥–æ–¥–Ω—èüé• –ö—Ç–æ —Å—Ç–∞–Ω–µ—Ç –≥–µ—Ä–æ–µ–º –≤–∞—à–µ–≥–æ –¥–Ω—è?üí•<br><br> <p class='popup_subtext'> –ü–æ –∂–µ–ª–∞–Ω–∏—é –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ—ë –≤–∏–¥–µ–æ –≤ —á–∞—Ç–∏–∫–µ –¶—ñ—û-–¶—ñ—û —Å —Ö–µ—à—Ç–µ–≥–æ–º #–ø—Ç–∏—á–∏–π–∞–¥–≤–µ–Ω—Çüòá</p>"],
	// 28.12
	["–ü–æ–Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∑–∞ –∫–æ—Ä–º—É—à–∫–æ–π –¥–æ–º–∞ –∏–ª–∏ –≤ –ø–∞—Ä–∫–µ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è, –∑–∞–ø–∏—à–∏—Ç–µ –ø—Ç–∏—Ü, –∫–æ—Ç–æ—Ä—ã–µ –∫ –Ω–µ–π –ø—Ä–∏–ª–µ—Ç–µ–ª–∏üìî"],
	// 29.12
	["–ù–∞—á–Ω–∏—Ç–µ —á–∏—Ç–∞—Ç—å –ª—é–±—É—é —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—É—é –∫–Ω–∏–≥—É –æ –ø—Ç–∏—Ü–∞—Öüìö –ú–æ–∂–µ—Ç, —É –≤–∞—Å –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏–π? –ï—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –≤ –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω–Ω–æ–º –∞—Ä—Ö–∏–≤–µ —è –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∞ –¥–ª—è –≤–∞—Å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–Ω–∏–≥ - –≤–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ-—Ç–æ –≤—ã –∑–∞—Ö–æ—Ç–∏—Ç–µ –ø–æ—á–∏—Ç–∞—Ç—å –∏–ª–∏ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ —Å–µ–±–µ –∏ –≤ –±—É–º–∞–∂–Ω–æ–π –≤–µ—Ä—Å–∏–∏üòâ"],
	// 30.12
	["–ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –ø–æ–¥–≤–µ—Å—Ç–∏ —Å–≤–æ–∏ –ø—Ç–∏—á—å–∏ –∏—Ç–æ–≥–∏ –≥–æ–¥–∞ü§© –°–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ –ø—Ç–∏—Ü, –≤—Å—Ç—Ä–µ—á–µ–Ω–Ω—ã—Ö –≤–∞–º–∏ –≤ —ç—Ç–æ–º –≥–æ–¥—É.‚ùÑÔ∏è‚ú®‚ùÑÔ∏è<br><br> <p class='popup_subtext'> –ü–æ –∂–µ–ª–∞–Ω–∏—é –≤—ã –º–æ–∂–µ—Ç–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ –≤ —á–∞—Ç–∏–∫–µ –¶—ñ—û-–¶—ñ—û —Å —Ö–µ—à—Ç–µ–≥–æ–º #–ø—Ç–∏—á–∏–π–∞–¥–≤–µ–Ω—Çüòá</p>"],
    // 31.12
	["–í–æ—Ç –∏ –ö–∞–Ω—É–Ω –ù–æ–≤–æ–≥–æ –≥–æ–¥–∞!ü•Ç –ù–∞—à –∞–¥–µ–≤–µ–Ω—Ç –ø–æ—á—Ç–∏ –∑–∞–≤–µ—Ä—à–µ–Ω, –¥–∞ –∏ –≥–æ–¥ —Ç–æ–∂–µü§ó –ü–æ–∂–µ–ª–∞–π—Ç–µ —á—Ç–æ-—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–µ —Ç–µ–º, –∫—Ç–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –≤–∞—à–µ —É–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ç–∏—Ü–∞–º–∏üåü –ê –º–æ–∂–µ—Ç, –≤—ã –∑–∞—Ö–æ—Ç–∏—Ç–µ —Å–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ —Ö–æ—Ä–æ—à–µ–µ –∫–æ–º–º—å—é–Ω–∏—Ç–∏ —á–∞—Ç–∏–∫–∞ –¶—ñ—û-–¶—ñ—û?üòç"]
];

const calendar = document.querySelector('.calendar');
const calendarList = document.querySelectorAll('.calendar__item');
const currentDate = new Date();

const popup = document.querySelector('.popup');
const popupCloseBtn = document.querySelector('.popup__close');
const popupNumber = document.querySelector('.popup__number');
const popupText = document.querySelector('.popup__text');
const popupBtn = document.querySelector('.popup__link');

function closePopup() {
    popup.classList.add('hidden');
}
popupCloseBtn.addEventListener('click', closePopup);

calendarList.forEach(item => {
	const itemNumber = item.dataset.number;

	if ((currentDate.getDate() - 16) === +itemNumber || (currentDate.getDate() - 16) > +itemNumber) {
		item.classList.remove('used');
	} else {
		item.classList.add('used');
	}
})

calendar.addEventListener('click', (event) => {
	popup.classList.remove('hidden');
	const elemNumber = Number(event.target.dataset.number);

    if (event.target.classList.contains('calendar__item_books')) {
        popupBtn.classList.remove('hidden');
    } else {
        popupBtn.classList.add('hidden');
    }

	if (event.target.classList.contains('used')) {
		closePopup();
	}
	for (let i = 0; i < messages.length; i++) {
		if (elemNumber === i) {
			popupText.innerHTML = messages[i - 1];
			popupNumber.innerText = i;
		}
	}
});

// Background script

function getRandomNum(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

let randomNum = getRandomNum(1, 8);

function setBg() {
    const bgNum = String(randomNum);
    const body = document.body;
	body.style.backgroundImage = `url(images/backgrounds/bg${bgNum}.jpg)`;
}

setBg();

// Audio player
const audio = document.querySelector('audio');
const playBtn = document.querySelector('.audio__icon');
let isPlay = false;
let randomAudio = +getRandomNum(1, 6);
audio.src = `audio/${randomAudio}.mp3`;

function playAudio() {
    // –ï—Å–ª–∏ –∞—É–¥–∏–æ –Ω–µ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–µ—Ç—Å—è, –Ω–∞—á–∏–Ω–∞–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
    if (!isPlay) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç –ª–∏ –∞—É–¥–∏–æ –Ω–∞—á–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
        audio.play().then(() => {
            isPlay = true;
            playBtn.classList.remove('pause');
        }).catch(err => {
            console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–∏ –∞—É–¥–∏–æ:", err);
        });
    } else {
        // –ï—Å–ª–∏ –∞—É–¥–∏–æ —É–∂–µ –∏–≥—Ä–∞–µ—Ç, —Å—Ç–∞–≤–∏–º –µ–≥–æ –Ω–∞ –ø–∞—É–∑—É
        audio.pause();
        isPlay = false;
        playBtn.classList.add('pause');
    }
}
playBtn.addEventListener('click', playAudio);

// Change text bird
const littleBird = document.querySelector('.bird_second');
const textBird = document.querySelector('.bird-text');

function changeTextBird() {
    littleBird.classList.add('active');
    textBird.innerHTML = '–ü—Ä–∏–≤–µ—Ç!';
    textBird.style.right = '-65px';
}
littleBird.addEventListener('mouseenter', changeTextBird);
littleBird.addEventListener('click', changeTextBird);